<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DTSS dashboard</title>
    <link rel="stylesheet" href="./style.css">

    <!-- material icons and jquery -->

    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/meetselva/attrchange@master/js/attrchange.js"></script>

    <script src="/index.js" defer type="module"></script>


</head>

<body>
    <div class="container">
        <aside>
            <div class="top">
                <div class="logo">
                    <img src="./images/logo.png" alt="logo">
                    <h2 class="text-muted">DT <span class="danger">SS</span></h2>
                </div>
            </div>

            <div class="sidebar">
                <a href="dashboard">
                    <span class="material-symbols-outlined">
                        dashboard
                    </span>
                    <h3>dashboard</h3>
                </a>
                <a href="terminal">
                    <span class="material-symbols-outlined">
                        terminal
                    </span>
                    <h3>Terminal</h3>
                </a>
                <a href="events">
                    <span class="material-symbols-outlined">
                        mail_outline
                    </span>
                    <h3>Events</h3>
                    <span class="message-count">26</span>
                </a>

                <a href="about">
                    <span class="material-symbols-outlined">
                        report
                    </span>
                    <h3>About</h3>
                </a>
                <a href="settings">
                    <span class="material-symbols-outlined">
                        settings
                    </span>
                    <h3>Settings</h3>
                </a>


                <a href="logout">
                    <span class="material-symbols-outlined">
                        logout
                    </span>
                    <h3>Logout</h3>
                </a>
            </div>

        </aside>

        <main>
            <h1>Dashboard</h1>

            <div class="insights">
                <div class="network">
                    <span class="material-symbols-outlined">
                        speed
                    </span>
                    <div class="middle">
                        <div class="left">
                            <h3>NETWORK ATTACKS</h3>
                            <div class="value-container">
                                <div class="fixed">
                                    <h1 id="network_hero">0 </h1>
                                </div>
                                <div class="flex-item">
                                    <small class="text-muted">Detected</small>
                                </div>
                            </div>
                        </div>

                        <div class="point">
                            <div class="number">
                                <p id="network_plabel">
                                    0
                                </p>
                            </div>
                            <svg class="round-1" viewbox="0 0 85 85" width="100" height="100" id="round-1">
                                <circle cx="40" cy="40" r="36" />
                            </svg>

                            <script>

                                function run() {
                                    document.getElementById("round-1").setAttribute("data-percent", parseInt(document.getElementById("network_plabel").innerHTML));
                                }
                                setInterval(() => {
                                    run();
                                }, 500);

                                var $round = $('.round-1')
                                $round.attrchange({
                                    trackValues: true,
                                    callback: function (event) {
                                        roundRadius = $round.find('circle').attr('r');
                                        var x = parseInt(document.getElementById("network_plabel").innerHTML)
                                        roundPercent = x
                                        roundCircum = 2 * roundRadius * Math.PI;
                                        roundDraw = roundPercent * roundCircum / 100;
                                        $round.css('stroke-dasharray', roundDraw + ' 999');
                                    }
                                })

                            </script>
                        </div>
                    </div>
                    <small class="text-muted">Last 24 Hours</small>
                </div>
                <!-- end of Dos Attack -->
                <div class="injection">
                    <span class="material-symbols-outlined">
                        vaccines
                    </span>
                    <div class="middle">
                        <div class="left">
                            <h3>INJECTION</h3>
                            <div class="value-container">
                                <div class="fixed">
                                    <h1 id="injection_hero">0 </h1>
                                </div>
                                <div class="flex-item">
                                    <small class="text-muted">Detected</small>
                                </div>
                            </div>
                        </div>
                        <div class="point">
                            <div class="number">
                                <p id="injection_plabel">
                                    0
                                </p>
                            </div>
                            <svg class="round-2" viewbox="0 0 85 85" width="100" height="100" id="round-2">
                                <circle cx="40" cy="40" r="36" />
                            </svg>

                            <script>
                                function run() {
                                    document.getElementById("round-2").setAttribute("data-percent", parseInt(document.getElementById("injection_plabel").innerHTML));
                                }
                                setInterval(() => {
                                    run();
                                }, 1000);

                                var $round_2 = $('.round-2')
                                $round_2.attrchange({
                                    trackValues: true,
                                    callback: function (event) {
                                        roundRadius_2 = $round_2.find('circle').attr('r');
                                        var value = parseInt(document.getElementById("injection_plabel").innerHTML)
                                        roundPercent_2 = value
                                        roundCircum_2 = 2 * roundRadius_2 * Math.PI;
                                        roundDraw_2 = roundPercent_2 * roundCircum_2 / 100;
                                        $round_2.css('stroke-dasharray', roundDraw_2 + ' 999');
                                    }
                                })
                            </script>
                        </div>

                    </div>
                    <small class="text-muted">Last 24 Hours</small>
                </div>
                <!-- end of Injections -->
                <div class="server">
                    <span class="material-symbols-outlined">
                        dns
                    </span>
                    <div class="middle">
                        <div class="left">
                            <h3>SERVER FAILURE</h3>

                            <div class="value-container">
                                <div class="fixed">
                                    <h1 id="server_hero">0 </h1>
                                </div>
                                <div class="flex-item">
                                    <small class="text-muted">Detected</small>
                                </div>
                            </div>

                        </div>
                        <div class="point">
                            <div class="number">
                                <p id="server_plabel">
                                    0
                                </p>
                            </div>
                            <svg class="round-3" viewbox="0 0 85 85" width="100" height="100" id="round-3">
                                <circle cx="40" cy="40" r="36" />
                            </svg>

                            <script>
                                $(document).ready(function () {
                                    var $round = $('.round-3'),
                                        roundRadius = $round.find('circle').attr('r'),
                                        roundPercent = $round.data('percent'),
                                        roundCircum = 2 * roundRadius * Math.PI,
                                        roundDraw = roundPercent * roundCircum / 100
                                    $round.css('stroke-dasharray', roundDraw + ' 999')

                                })
                            </script>
                        </div>

                    </div>
                    <small class="text-muted">Last 24 Hours</small>


                </div>

                <!-- end of income -->
            </div>
            <!-- end of insights -->

            <div class="recent-updates">


                <h2>Admin Settings panel</h2>


                <div class="tab">
                    <button class="tablinks" onclick="openCity(event, 'personal_info')" id="defaultOpen">Personal
                        Info</button>
                    <button class="tablinks" onclick="openCity(event, 'manage_users')">Add Users</button>
                </div>

                <div id="personal_info" class="tabcontent">
                    <span onclick="this.parentElement.style.display='none'" class="topright">&times</span>


                    <div class="form-container">
                        <form action="/personal_info" method="post">
                            <h2>Personal Info</h2>

                            <div class="row">
                                <div class="col-25">
                                    <label for="fname">Firstname</label>
                                </div>
                                <div class="col-75">
                                    <input type="text" id="fname" name="fname">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-25">
                                    <label for="lname">Lastname</label>
                                </div>
                                <div class="col-75">
                                    <input type="text" id="lname" name="lname">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-25">
                                    <label for="_role">Role</label>
                                </div>
                                <div class="col-75">
                                    <select id="_role" name="_role">
                                        <option value="admin">Admin</option>
                                        <option value="support">support</option>
                                        <option value="intern">Intern</option>
                                    </select>
                                </div>
                            </div>
                            <br>

                            <h2>Contact Info</h2>


                            <div class="row">
                                <div class="col-25">
                                    <label for="uname">Email</label>
                                </div>
                                <div class="col-75">
                                    <input type="text" id="email" name="email" placeholder="example@xyz.com" readonly>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-25">
                                    <label for="number">Contact number</label>
                                </div>
                                <div class="col-75">
                                    <input type="text" id="contact_number" name="contact" placeholder="011-xxx-xxxx-xx">
                                </div>
                            </div>
                            <br>

                            <h2>Login Creds</h2>


                            <div class="row">
                                <div class="col-25">
                                    <label for="current_password">Currrent password</label>
                                </div>
                                <div class="col-75">
                                    <input type="password" id="current_password" name="current_password" placeholder="">
                                </div>
                            </div>


                            <div class="row">
                                <div class="col-25">
                                    <label for="new_password">New password</label>
                                </div>
                                <div class="col-75">
                                    <input type="password" id="new_password" name="new_password" placeholder="">
                                </div>
                            </div>


                            <div class="row">
                                <input type="submit" value="Update">
                            </div>
                        </form>
                    </div>
                </div>

                <div id="manage_users" class="tabcontent">
                    <span onclick="this.parentElement.style.display='none'" class="topright">&times</span>

                    <div class="form-container">
                        <form action="/add_users" method="post">
                            <h2>Personal Info</h2>

                            <div class="row">
                                <div class="col-25">
                                    <label for="fname">Firstname</label>
                                </div>
                                <div class="col-75">
                                    <input type="text" id="fname" name="fname" required>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-25">
                                    <label for="lname">Lastname</label>
                                </div>
                                <div class="col-75">
                                    <input type="text" id="lname" name="lname" required>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-25">
                                    <label for="_role">Role</label>
                                </div>
                                <div class="col-75">
                                    <select id="_role" name="_role">
                                        <option value="admin">Admin</option>
                                        <option value="support">support</option>
                                        <option value="intern">Intern</option>
                                    </select>
                                </div>
                            </div>
                            <br>

                            <h2>Contact Info</h2>


                            <div class="row">
                                <div class="col-25">
                                    <label for="uname">Email</label>
                                </div>
                                <div class="col-75">
                                    <input type="text" id="email" name="email" placeholder="example@xyz.com" required>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-25">
                                    <label for="number">Contact number</label>
                                </div>
                                <div class="col-75">
                                    <input type="text" id="contact" name="contact" placeholder="011-xxx-xxxx-xx">
                                </div>
                            </div>
                            <br>

                            <h2>Login Creds</h2>


                            <div class="row">
                                <div class="col-25">
                                    <label for="current_password">Password</label>
                                </div>
                                <div class="col-75">
                                    <input type="password" id="current_password" name="password" required>
                                </div>
                            </div>


                            <div class="row">
                                <div class="col-25">
                                    <label for="new_password">Confirm Password</label>
                                </div>
                                <div class="col-75">
                                    <input type="password" id="new_password" name="_password" required>
                                </div>
                            </div>


                            <div class="row">
                                <input type="submit" value="Submit">
                            </div>
                        </form>
                    </div>
                </div>

                <div id="manage_events" class="tabcontent">
                    <span onclick="this.parentElement.style.display='none'" class="topright">&times</span>
                </div>

                <script>
                    function openCity(evt, cityName) {
                        var i, tabcontent, tablinks;
                        tabcontent = document.getElementsByClassName("tabcontent");
                        for (i = 0; i < tabcontent.length; i++) {
                            tabcontent[i].style.display = "none";
                        }
                        tablinks = document.getElementsByClassName("tablinks");
                        for (i = 0; i < tablinks.length; i++) {
                            tablinks[i].className = tablinks[i].className.replace(" active", "");
                        }
                        document.getElementById(cityName).style.display = "block";
                        evt.currentTarget.className += " active";
                    }

                    // Get the element with id="defaultOpen" and click on it
                    document.getElementById("defaultOpen").click();
                </script>
            </div>
        </main>
        <!-- end of main  -->

        <div class="right">
            <div class="top"> <button id="menu-btn">
                    <span class="material-symbols-outlined">menu</span> </button>

                <div class="profile">
                    <div class="info">
                        <p>Hey, <b id="name">Abuyusif01</b></p>
                        <small class="text-muted" id="role">User</small>
                    </div>
                    <div class="profile-photo">
                        <img src="/images/profile-1.jpg">
                    </div>
                </div>
            </div>
            <!-- END OF TOP -->
            <div class="recent-updates">
                <h2>Recent Updates</h2>
                <div class="updates" id="updates">
                    <!-- some magic -->
                    <script src="./index.js"></script>
                </div>
            </div>
        </div>
    </div>

</body>

</html>